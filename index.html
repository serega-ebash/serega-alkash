<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–µ—Ä—ë–∂–∞ –Ω–∞–∂—Ä—ë—Ç—Å—è —á–µ—Ä–µ–∑...</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      margin: 40px;
      background: #fffbe6;
    }
    h1 {
      font-size: 42px;
      color: #a00;
    }
    .block {
      border: 2px dashed #aaa;
      padding: 20px;
      margin: 30px auto;
      width: 60%;
      background: #f9f9f9;
    }
    #big-timer, #vape-timer {
      font-size: 36px;
      margin: 20px 0;
    }
    table {
      width: 80%;
      margin: 40px auto;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 10px;
    }
    .event-name {
      text-align: left;
    }
    .checkbox-cell input {
      transform: scale(1.4);
    }
  </style>
</head>
<body>

  <h1>–î–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–∞–∫ –°–µ—Ä—ë–∂–∞ –∂—ë—Å—Ç–∫–æ –Ω–∞–∂—Ä—ë—Ç—Å—è:</h1>
  <div id="big-timer">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <div class="block">
    –¢–∞–π–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Ä–∞—Å—á—ë—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Å—Ç–∞–ª–æ—Å—å –¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞,<br>
    –∫–æ–≥–¥–∞ –°–µ—Ä—ë–∂–∞ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –∂—ë—Å—Ç–∫–æ –Ω–∞–∂—Ä—ë—Ç—Å—è –∏ —É–∂–µ –±—É–¥–µ—Ç <b>–Ω–µ –≤ –º–∏–Ω–æ–∑–µ</b>.
  </div>

  <h2>–î–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –≤–µ–π–ø:</h2>
  <div id="vape-timer">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <h2>üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:</h2>
  <table>
    <thead>
      <tr>
        <th>–°–æ–±—ã—Ç–∏–µ</th>
        <th>–î–æ —Å–æ–±—ã—Ç–∏—è</th>
        <th>‚úì</th>
      </tr>
    </thead>
    <tbody id="event-table">
      <!-- —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º -->
    </tbody>
  </table>

  <script>
    // –ë–æ–ª—å—à–æ–π —Ç–∞–π–º–µ—Ä (–æ–±–Ω–æ–≤–∏ –¥–∞—Ç—É –ø–æ–∑–∂–µ)
    const drunkTime = new Date("2025-04-26T22:00:00+05:00").getTime(); // –ü–µ—Ä–º—Å–∫–æ–µ –≤—Ä–µ–º—è
    const vapeTime = new Date("2025-04-26T11:00:00+05:00").getTime();

    function updateTimer(id, targetTime) {
      const now = new Date().getTime();
      const diff = targetTime - now;

      if (diff <= 0) {
        document.getElementById(id).innerText = "–°–æ–±—ã—Ç–∏–µ —É–∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ!";
        return;
      }

      const d = Math.floor(diff / (1000 * 60 * 60 * 24));
      const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const s = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById(id).innerText = `${d}–¥ ${h}—á ${m}–º ${s}—Å`;
    }

    setInterval(() => {
      updateTimer('big-timer', drunkTime);
      updateTimer('vape-timer', vapeTime);
    }, 1000);

    // –¢–∞–±–ª–∏—Ü–∞ —Å–æ–±—ã—Ç–∏–π
    const events = [
      { name: "–í—ã–µ–∑–¥ –∏–∑ –¥–æ–º–∞", time: "2025-04-26T07:30:00+05:00" },
      { name: "–ü–æ—Å–∞–¥–∫–∞ –Ω–∞ –ø–æ–µ–∑–¥", time: "2025-04-26T08:15:00+05:00" },
      { name: "–ü—Ä–∏–±—ã—Ç–∏–µ –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", time: "2025-04-26T11:00:00+05:00" },
      { name: "–ü–µ—Ä–≤—ã–π –±–æ–∫–∞–ª –ø–∏–≤–∞", time: "2025-04-26T12:00:00+05:00" },
      { name: "–ö—É–ø–∞–Ω–∏–µ –≤ —Ñ–æ–Ω—Ç–∞–Ω–µ", time: "2025-04-26T17:00:00+05:00" },
      { name: "–°–µ—Ä—ë–∂–∞ –Ω–µ –≤ –º–∏–Ω–æ–∑–µ", time: "2025-04-26T22:00:00+05:00" }
    ];

    const tableBody = document.getElementById("event-table");

    events.forEach((event, index) => {
      const row = document.createElement("tr");

      const nameCell = document.createElement("td");
      nameCell.classList.add("event-name");
      nameCell.innerText = event.name;

      const timerCell = document.createElement("td");
      const timerId = `event-timer-${index}`;
      timerCell.id = timerId;

      const checkboxCell = document.createElement("td");
      checkboxCell.classList.add("checkbox-cell");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = localStorage.getItem(`checkbox-${index}`) === "true";
      checkbox.addEventListener("change", () => {
        localStorage.setItem(`checkbox-${index}`, checkbox.checked);
      });
      checkboxCell.appendChild(checkbox);

      row.appendChild(nameCell);
      row.appendChild(timerCell);
      row.appendChild(checkboxCell);
      tableBody.appendChild(row);

      setInterval(() => {
        updateTimer(timerId, new Date(event.time).getTime());
      }, 1000);
    });
  </script>

</body>
</html>
